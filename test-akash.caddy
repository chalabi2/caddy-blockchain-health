# Test Akash with blockchain health
test-akash.localhost {
    route {
        # Akash RPC endpoints - using simplified snippet format (with WebSocket support)
        handle /rpc/akash/* {
            uri strip_prefix /rpc/akash
            import public_cosmos_rpc AKASH_RPC_SERVERS cosmos-hub
        }

        # Akash API endpoints - using simplified snippet format
        handle /api/akash/* {
            uri strip_prefix /api/akash
            import public_cosmos_api AKASH_API_SERVERS cosmos-hub
        }
        
        # Test WebSocket endpoint specifically
        handle /ws/akash/* {
            uri strip_prefix /ws/akash
            import public_cosmos_rpc AKASH_RPC_SERVERS cosmos-hub
        }

        # Status endpoint
        handle /status {
            respond `{"status":"ok","service":"akash-test","timestamp":"{time.now.unix}"}`
        }

        handle {
            respond `{"error":"not_found","message":"Endpoint not found"}` 404
        }
    }
} 